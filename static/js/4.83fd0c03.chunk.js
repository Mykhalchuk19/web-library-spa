(this["webpackJsonpweb-library-front"]=this["webpackJsonpweb-library-front"]||[]).push([[4],{229:function(e,a,t){e.exports=t.p+"static/media/ukraine.2fed2ba2.svg"},230:function(e,a,t){e.exports=t.p+"static/media/united-kingdom.386cc387.svg"},241:function(e,a,t){},242:function(e,a,t){},243:function(e,a,t){},244:function(e,a,t){},245:function(e,a,t){},246:function(e,a,t){},247:function(e,a,t){},249:function(e,a,t){"use strict";t.d(a,"c",(function(){return E})),t.d(a,"b",(function(){return _})),t.d(a,"a",(function(){return B})),t.d(a,"d",(function(){return ie}));var n=t(0),r=t.n(n),l=t(60),i=t(316),s=t(213),m=t(78),c=t(228),u=t(220),o=t(88),d=t(79),b=t(227),p=b.a({username:b.b().required("Username is required"),firstname:b.b().required("First name is required"),lastname:b.b().required("Last name is required"),email:b.b().email("Email is not valid").required("Email is required"),password:b.b().required("Password is required").min(6,"Password is too short").max(30,"Password is too long")}),g=(t(241),Object(s.a)({signup__wrapper:{width:"auto",maxWidth:"400px",margin:"0 auto"},signup__btn:{marginBottom:"10px"}})),E=function(){var e=Object(m.useDispatch)(),a=Object(m.useSelector)(d.d.getAuthPending),t=Object(u.a)(["auth"]).t,n=Object(c.a)({initialValues:{username:"",firstname:"",lastname:"",email:"",password:""},validateOnChange:!1,validationSchema:p,enableReinitialize:!0,onSubmit:function(t){e(d.b.userSignUpRequest(t)),h(a)}}),s=n.handleSubmit,b=n.values,E=n.errors,f=n.handleChange,h=n.setSubmitting,_=n.isSubmitting,v=g();return r.a.createElement(i.a,{elevation:3,className:v.signup__wrapper},r.a.createElement("form",{className:"signup__form",onSubmit:s},r.a.createElement("div",{className:"signup__header"},r.a.createElement("h2",{className:"signup__title"},t("Sign Up"))),r.a.createElement("div",{className:"signup__body"},r.a.createElement("div",{className:"signup__row"},r.a.createElement(o.b.CustomInput,{id:"username",label:"Username",error:E.username||"",inputProps:{name:"username",disabled:_,onChange:f,value:b.username}})),r.a.createElement("div",{className:"signup__row"},r.a.createElement(o.b.CustomInput,{id:"firstname",label:"First name",error:E.firstname||"",inputProps:{name:"firstname",disabled:_,onChange:f,value:b.firstname}})),r.a.createElement("div",{className:"signup__row"},r.a.createElement(o.b.CustomInput,{id:"lastname",label:"Last name",error:E.lastname||"",inputProps:{name:"lastname",disabled:_,onChange:f,value:b.lastname}})),r.a.createElement("div",{className:"signup__row"},r.a.createElement(o.b.CustomInput,{id:"email",label:"Email",error:E.email||"",inputProps:{name:"email",disabled:_,onChange:f,value:b.email}})),r.a.createElement("div",{className:"signup__row"},r.a.createElement(o.b.CustomInput,{id:"password",label:"Password",error:E.password||"",inputProps:{name:"password",disabled:_,onChange:f,value:b.password,type:"password"}})),r.a.createElement("div",{className:"signup__row"},r.a.createElement(o.a,{type:"submit",className:v.signup__btn,text:"Submit"}),r.a.createElement(l.b,{to:"/auth/signin",className:"signup__link"},t("I already sign in"))))))},f=b.a({username:b.b().required("Username is required"),password:b.b().required("Password is required").min(6,"Password is too short").max(30,"Password is too long")}),h=(t(242),Object(s.a)({signin__wrapper:{width:"auto",maxWidth:"400px",margin:"0 auto"},signin__btn:{marginBottom:"10px"},signin__link:{marginTop:"10px"}})),_=function(){var e=Object(m.useDispatch)(),a=Object(m.useSelector)(d.d.getAuthPending),t=Object(u.a)(["auth","common"]).t,n=Object(c.a)({initialValues:{username:"",password:""},validateOnChange:!1,validationSchema:f,enableReinitialize:!0,onSubmit:function(t){e(d.b.userSignInRequest(t)),E(a)}}),s=n.handleSubmit,b=n.values,p=n.errors,g=n.handleChange,E=n.setSubmitting,_=n.isSubmitting,v=h();return r.a.createElement(i.a,{elevation:3,className:v.signin__wrapper},r.a.createElement("form",{className:"signin__form",onSubmit:s},r.a.createElement("div",{className:"signin__header"},r.a.createElement("h2",{className:"signin__title"},t("Sign In"))),r.a.createElement("div",{className:"signin__body"},r.a.createElement("div",{className:"signin__row"},r.a.createElement(o.b.CustomInput,{id:"username",label:t("Username"),error:p.username||"",inputProps:{name:"username",disabled:_,onChange:g,value:b.username}})),r.a.createElement("div",{className:"signin__row"},r.a.createElement(o.b.CustomInput,{id:"password",label:t("Password"),error:p.password||"",inputProps:{name:"password",disabled:_,onChange:g,value:b.password,type:"password"}})),r.a.createElement("div",{className:"signin__row"},r.a.createElement(o.a,{type:"submit",className:v.signin__btn,text:t("Submit")}),r.a.createElement(l.b,{to:"/auth/signup",className:"signin__link"},t("I`m not signed up yet"))))))},v=t(219),w=t(317),C=t(335),P=t(336),N=t(89),O=(t(243),function(){var e=Object(u.a)(["common"]).t;return r.a.createElement("nav",{className:"main-nav"},r.a.createElement(C.a,null,Object.values(N.b).map((function(a){var t=a.href,n=a.title;return r.a.createElement(P.a,null,r.a.createElement(l.b,{className:"main-nav__link",to:t},e(n)))}))))}),S=(t(244),t(229)),j=t.n(S),k=t(230),q=t.n(k),x=t(17),y=t.n(x),R=t(267),U=t(12),I=t(92),L=function(){var e=Object(m.useDispatch)(),a=Object(U.useHistory)();return{logOut:Object(n.useCallback)((function(){localStorage.removeItem("authToken"),e(d.b.userLogOut()),a.push("/")}),[e]),changeLanguage:Object(n.useCallback)(function(){var e=Object(R.a)(y.a.mark((function e(a){return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,I.a.changeLanguage(a);case 2:return e.next=4,I.a.reloadResources();case 4:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}(),[])}},F=function(){var e=L(),a=e.logOut,t=e.changeLanguage;return r.a.createElement(r.a.Fragment,null,r.a.createElement("aside",{className:"left-sidebar"},r.a.createElement(O,null),r.a.createElement("div",{className:"left-sidebar__log-out"},r.a.createElement(o.a,{type:"button",onClick:a,text:"Log out"})),r.a.createElement("div",{className:"left-sidebar__copyright"},r.a.createElement("p",{className:"left-sidebar__copyright--text"},"Created by Mykhalchuk Yaroslav")),r.a.createElement("div",{className:"left-sidebar__languages"},r.a.createElement(w.a,{onClick:function(){return t(N.a.uk)}},r.a.createElement("img",{src:j.a,alt:"Ukraine",className:"left-sidebar__languages--ua"})),r.a.createElement(w.a,{onClick:function(){return t(N.a.en)}},r.a.createElement("img",{src:q.a,alt:"United Kingdom",className:"left-sidebar__languages--uk"})))))},D=(t(245),function(e){var a=e.children;return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"layout"},r.a.createElement(F,null),r.a.createElement("section",{className:"main"},r.a.createElement("main",{className:"main-container"},a))))}),M=t(4),A=b.a({username:b.b().required("Username is required"),firstname:b.b().required("First name is required"),lastname:b.b().required("Last name is required"),email:b.b().required("Email is required")}),z=function(){var e=Object(m.useDispatch)(),a=Object(u.a)(["common"]).t,t=Object(m.useSelector)(d.d.getUserData),r=Object(m.useSelector)(d.d.getAuthPending),l=Object(c.a)({initialValues:{username:t.username,firstname:t.firstname,lastname:t.lastname,email:t.email},validateOnChange:!1,validationSchema:A,enableReinitialize:!0,onSubmit:function(a){e(d.b.userUpdateRequest(Object(M.a)(Object(M.a)({},a),{},{id:t.id}))),p(r)}}),i=l.handleSubmit,s=l.values,o=l.errors,b=l.handleChange,p=l.setSubmitting,g=l.isSubmitting;return Object(n.useEffect)((function(){e(d.b.getCurrentUserRequest())}),[e]),{user:t,isPending:r,handleSubmit:i,values:s,errors:o,handleChange:b,setSubmitting:p,isSubmitting:g,t:a}},V=(t(246),Object(s.a)({profile__btn:{width:"100%"}})),B=Object(n.memo)((function(){var e=z(),a=e.handleSubmit,t=e.values,n=e.errors,l=e.handleChange,i=e.isSubmitting,s=e.user,m=e.t,c=V();return r.a.createElement(D,null,!Object(v.a)(s)&&r.a.createElement("form",{className:"profile__form",onSubmit:a},r.a.createElement("div",{className:"profile__header"},r.a.createElement("h2",{className:"profile__title"},m("Profile"))),r.a.createElement("div",{className:"profile__body"},r.a.createElement("div",{className:"profile__row"},r.a.createElement(o.b.CustomInput,{id:"username",label:"Username",error:n.username||"",inputProps:{name:"username",disabled:i,onChange:l,value:t.username}})),r.a.createElement("div",{className:"profile__row"},r.a.createElement(o.b.CustomInput,{id:"firstname",label:"First name",error:n.firstname||"",inputProps:{name:"firstname",disabled:i,onChange:l,value:t.firstname}})),r.a.createElement("div",{className:"profile__row"},r.a.createElement(o.b.CustomInput,{id:"lastname",label:"Last name",error:n.lastname||"",inputProps:{name:"lastname",disabled:i,onChange:l,value:t.lastname}})),r.a.createElement("div",{className:"profile__row"},r.a.createElement(o.b.CustomInput,{id:"email",label:"Email",error:n.email||"",inputProps:{name:"email",disabled:i,onChange:l,value:t.email,type:"email"}})),r.a.createElement("div",{className:"profile__row"},r.a.createElement(o.a,{type:"submit",className:c.profile__btn,text:"Save"})))))})),J=t(322),T=t(323),W=t(324),H=t(325),K=t(326),Y=t(327),G=t(330),Q=t(334),X=t(328),Z=t(329),$=t(318),ee=t(319),ae=t(320),te=t(321),ne=function(e){var a=e.page,t=e.count,r=e.rowsPerPage,l=e.onChangePage,i=Object(n.useCallback)((function(e){l(e,a+1)}),[a,l]),s=Object(n.useCallback)((function(e){l(e,a-1)}),[a,l]),m=Object(n.useCallback)((function(e){l(e,Math.max(0,Math.ceil(t/r)-1))}),[t,r,l]),c=Object(n.useCallback)((function(e){l(e,0)}),[l]);return{rowsPerPage:r,page:a,count:t,handleNextPage:i,handlePreviousPage:s,handleLastPage:m,handleFirstPage:c}},re=function(e){var a=ne(e),t=a.page,n=a.count,l=a.rowsPerPage,i=a.handlePreviousPage,s=a.handleNextPage,m=a.handleFirstPage,c=a.handleLastPage;return r.a.createElement(r.a.Fragment,null,r.a.createElement(w.a,{onClick:m,disabled:0===t,"aria-label":"first page"},r.a.createElement($.a,null)),r.a.createElement(w.a,{onClick:i,disabled:0===t,"aria-label":"previous page"},r.a.createElement(ee.a,null)),r.a.createElement(w.a,{onClick:s,disabled:t>=Math.ceil(n/l)-1,"aria-label":"next page"},r.a.createElement(ae.a,null)),r.a.createElement(w.a,{onClick:c,disabled:t>=Math.ceil(n/l)-1,"aria-label":"last page"},r.a.createElement(te.a,null)))},le=function(){var e=Object(m.useDispatch)(),a=Object(m.useSelector)(d.d.getUsersList),t=Object(u.a)(["common"]).t,r=a.users,l=a.limit,i=a.page,s=a.count;Object(n.useEffect)((function(){e(d.b.usersListRequest())}),[e]);var c=Object(n.useCallback)((function(a,t){e(d.b.usersListRequest({page:t,limit:l}))}),[e,l]),o=Object(n.useCallback)((function(a){e(d.b.usersListRequest({page:0,limit:parseInt(a.target.value,10)}))}),[e]),b=Object(n.useMemo)((function(){return r.slice(i*l,i*l+l)}),[r,l,i]),p=Object(n.useCallback)((function(e){}),[]),g=Object(n.useCallback)((function(e){}),[]);return{usersForShow:b,limit:l,page:i,count:s,changePage:c,changeRowsPerPage:o,handleEditUser:p,handleDeleteUser:g,t:t}},ie=(t(247),function(){var e=le(),a=e.usersForShow,t=e.limit,n=e.page,l=e.count,i=e.changePage,s=e.changeRowsPerPage,m=e.handleEditUser,c=e.handleDeleteUser,u=e.t;return r.a.createElement(r.a.Fragment,null,r.a.createElement(D,null,r.a.createElement("div",{className:"users__wrapper"},r.a.createElement("h2",{className:"users__title"},u("Users")),!Object(v.a)(a)&&r.a.createElement(J.a,null,r.a.createElement(T.a,null,r.a.createElement(W.a,null,r.a.createElement(H.a,null,N.c.map((function(e){var a=e.id,t=e.field;return r.a.createElement(K.a,{key:a},u(t))})),r.a.createElement(K.a,{colSpan:.5}),r.a.createElement(K.a,{colSpan:.5}))),r.a.createElement(Y.a,null,a.map((function(e){var a=e.id,t=e.username,n=e.firstname,l=e.lastname,i=e.email;return r.a.createElement(H.a,{key:a},r.a.createElement(K.a,{component:"td"},a),r.a.createElement(K.a,{component:"td"},t),r.a.createElement(K.a,{component:"td"},n),r.a.createElement(K.a,{component:"td"},l),r.a.createElement(K.a,{component:"td"},i),r.a.createElement(K.a,{component:"td",colSpan:.5},r.a.createElement(w.a,{onClick:function(){return m(a)},type:"button","aria-label":"edit"},r.a.createElement(X.a,null))),r.a.createElement(K.a,{component:"td",colSpan:.5},r.a.createElement(w.a,{onClick:function(){return c(a)},type:"button","aria-label":"delete"},r.a.createElement(Z.a,null))))}))),r.a.createElement(G.a,null,r.a.createElement(H.a,null,r.a.createElement(Q.a,{count:l,rowsPerPage:t,labelRowsPerPage:u("Rows per page"),page:n,onChangePage:i,onChangeRowsPerPage:s,colSpan:7,ActionsComponent:re}))))))))})},296:function(e,a,t){},315:function(e,a,t){"use strict";t.r(a);var n=t(0),r=t.n(n),l=t(12),i=t(53),s=t(88),m=t(249);t(296);a.default=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(s.c,null),r.a.createElement(l.Switch,null,r.a.createElement(l.Route,{exact:!0,path:"/auth/signup/",component:m.c}),r.a.createElement(l.Route,{exact:!0,path:"/auth/signin/",component:m.b}),r.a.createElement(l.Route,{path:"/",component:m.c})),r.a.createElement(i.a,null))}}}]);
//# sourceMappingURL=4.83fd0c03.chunk.js.map